{% extends '_base.html' %}
{% load render_table from django_tables2 %}

{% block title %}Financial Data{% endblock title %}

{% block content %}

    <h1>{{ report_type }}</h1>

    <table class="table">
        <thead>
            {% for key, value in table_data %}
                {% if forloop.first %}
                    {% for key2, value2 in value.items %}
                        {% if forloop.first %}
                            <th></th>
                        {% endif %}
                        <th>{{ key2 }}</th>
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </thead>
        <tbody>
            {% for key, value in table_data %}
                <tr>
                    {% for key2, value2 in value.items %}
                        {% if forloop.first %}
                            <td>{{ key }}</td>
                        {% endif %}
                        <td>${{ value2|floatformat:"2g" }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock content %}
